<html>

<head>

  <title>html-bricks logo</title>
  <style>

canvas {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

body {
  background-color: #aaa;
}

  </style>

</head>

<body>

  <canvas id="can"></canvas>

  <script>

    window.addEventListener('load', function () {
      const params = window.location.search.replace(/^\?/, '').split('&').reduce((obj, pair) => {
        obj[pair.split('=')[0]] = pair.split('=')[1] || ''
        return obj
      }, {})
      const size = params.size || 300
      const transparent = params.transparent !== undefined
      console.log(params, size, transparent)

      const canvas = document.getElementById('can')
      const w = canvas.width = size
      const h = canvas.height = size

      const ctx = canvas.getContext('2d')

      const lineW = w * 0.05

      if (!transparent) {
        ctx.fillStyle = "white"
        ctx.fillRect(0, 0, w, h)
      } else {
        ctx.clearRect(0, 0, w, h)
      }

      const rects = [
        {
          x: w * 0.1,
          y: h * 0.22,
          w: w * 0.8,
          h: w * 0.25,
          color: '#a94e39'
        },
        {
          x: w * 0.6,
          y: h * 0.52,
          w: w * 0.3,
          h: w * 0.25,
          color: '#ca6a50'
        },
        {
          x: w * 0.1,
          y: h * 0.52,
          w: w * 0.45,
          h: w * 0.25,
          color: '#b75a46'
        }
      ]

      rects.forEach(rect => {
        ctx.fillStyle = 'black'
        ctx.fillRect(rect.x - lineW, rect.y - lineW, rect.w + lineW * 2, rect.h + lineW * 2)
      })

      rects.forEach(rect => {
        ctx.fillStyle = rect.color
        ctx.fillRect(rect.x, rect.y, rect.w, rect.h)
      })
    });

  </script>

</body>
</html>
